import{b as t,k as e}from"./chunk-03ecffc3.js";function n(n,s){let d,u,l,f=10*-r,v=0,p=!1,m=!1;const h=s.getBoolean("animated",!0)&&s.getBoolean("rippleEffect",!0),L=new WeakMap;function E(e){f=t(e),g(e)}function w(){clearTimeout(l),l=void 0,d&&(k(!1),d=void 0),p=!0}function b(t){d||m||(p=!1,S(function(t){if(!t.composedPath)return t.target.closest("[ion-activatable]");{const e=t.composedPath();for(let t=0;t<e.length-2;t++){const n=e[t];if(n.hasAttribute&&n.hasAttribute("ion-activatable"))return n}}}(t),t))}function g(t){m||(S(void 0,t),p&&t.cancelable&&t.preventDefault())}function S(t,n){if(t&&t===d)return;clearTimeout(l),l=void 0;const{x:a,y:r}=e(n);if(d){if(L.has(d))throw new Error("internal error");d.classList.contains(i)||T(d,a,r),k(!0)}if(t){const e=L.get(t);e&&(clearTimeout(e),L.delete(t));const n=o(t)?0:c;t.classList.remove(i),l=setTimeout(()=>{T(t,a,r),l=void 0},n)}d=t}function T(t,e,n){v=Date.now(),t.classList.add(i);const o=h&&function(t){if(t.shadowRoot){const e=t.shadowRoot.querySelector("ion-ripple-effect");if(e)return e}return t.querySelector("ion-ripple-effect")}(t);o&&o.addRipple&&(u=o.addRipple(e,n))}function k(t){void 0!==u&&u.then(t=>t());const e=d;if(!e)return;const n=a-Date.now()+v;if(t&&n>0&&!o(e)){const t=setTimeout(()=>{e.classList.remove(i),L.delete(e)},a);L.set(e,t)}else e.classList.remove(i)}n.addEventListener("click",function(t){(p||m)&&(t.preventDefault(),t.stopPropagation())},!0),n.addEventListener("ionScrollStart",()=>{m=!0,w()}),n.addEventListener("ionScrollEnd",()=>{m=!1}),n.addEventListener("ionGestureCaptured",w),n.addEventListener("touchstart",function(e){f=t(e),b(e)},!0),n.addEventListener("touchcancel",E,!0),n.addEventListener("touchend",E,!0),n.addEventListener("mousedown",function(e){const n=t(e)-r;f<n&&b(e)},!0),n.addEventListener("mouseup",function(e){const n=t(e)-r;f<n&&g(e)},!0)}function o(t){return"instant"===t.getAttribute("ion-activatable")}const i="activated",c=200,a=200,r=2500;export{n as startTapClick};